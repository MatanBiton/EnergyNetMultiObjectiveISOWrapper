==========================================
Multi-Objective SAC EnergyNet Continue Training (SLURM)
==========================================
Job ID: 324464
Job Name: mo_sac_continue_energynet
Node: lambda1
CPUs: 4
GPUs: 0
Memory: 32768 MB
==========================================
Original directory (where files are): /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/multi_objecctive_iso_algo/mo_sac_testing
Model path: /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/Experiments/First/models/train_energynet_full_opt_0_action_with_disp_1754339131_final.pth
Loading CUDA modules...
No CUDA modules loaded
✓ Set CUDA environment variables
Activating conda environment...
✓ Activated conda environment: IsoMOEnergyNet
Found Python: python3 (/home/matan.biton/miniconda3/envs/IsoMOEnergyNet/bin/python3)
Python version: Python 3.10.9
Python location: /home/matan.biton/miniconda3/envs/IsoMOEnergyNet/bin/python3

Checking CUDA availability...
CUDA_HOME: /usr/local/cuda
CUDA_PATH: /usr/local/cuda
GPU Status:
0, NVIDIA GeForce GTX 1080 Ti, 11264, 2
Checking PyTorch CUDA support...
PyTorch version: 2.7.0+cu126
PyTorch CUDA available: True
✓ PyTorch CUDA support is working

Creating working directory: /tmp/energynet_continue_training_matan.biton_3655976
Copying files to working directory...
Copied multi_objective_sac.py from parent directory
Copied EnergyNetMoISO directory from /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/multi_objecctive_iso_algo/mo_sac_testing/../../EnergyNetMoISO
Changed to working directory: /tmp/energynet_continue_training_matan.biton_3655976
Files in working directory:
total 18864
drwxr-xr-x 7 matan.biton domain^users     4096 Aug  6 07:48 .
drwxrwxrwt 1 root        root         19025920 Aug  6 07:48 ..
-rwxr-xr-x 1 matan.biton domain^users    11270 Aug  6 07:48 average_tensorboard_logs.py
drwxr-xr-x 2 matan.biton domain^users     4096 Aug  6 07:48 checkpoints
-rw-r--r-- 1 matan.biton domain^users    21797 Aug  6 07:48 continue_train_energynet.py
drwxr-xr-x 4 matan.biton domain^users     4096 Aug  6 07:48 EnergyNetMoISO
-rw-r--r-- 1 matan.biton domain^users     9719 Aug  6 07:48 examples.py
-rw-r--r-- 1 matan.biton domain^users       37 Aug  6 07:48 __init__.py
drwxr-xr-x 2 matan.biton domain^users     4096 Aug  6 07:48 logs
drwxr-xr-x 2 matan.biton domain^users     4096 Aug  6 07:48 models
-rw-r--r-- 1 matan.biton domain^users    46082 Aug  6 07:48 multi_objective_sac.py
-rw-r--r-- 1 matan.biton domain^users    10101 Aug  6 07:48 optimization_examples.py
drwxr-xr-x 2 matan.biton domain^users     4096 Aug  6 07:48 plots
-rw-r--r-- 1 matan.biton domain^users     4016 Aug  6 07:48 quick_test.py
-rw-r--r-- 1 matan.biton domain^users      503 Aug  6 07:48 requirements.txt
-rwxr-xr-x 1 matan.biton domain^users        0 Aug  6 07:48 test_averaging.py
-rw-r--r-- 1 matan.biton domain^users    17868 Aug  6 07:48 test_environments.py
-rw-r--r-- 1 matan.biton domain^users     2970 Aug  6 07:48 test_gpu_availability.py
-rwxr-xr-x 1 matan.biton domain^users     6012 Aug  6 07:48 test_gpu_quick.py
-rw-r--r-- 1 matan.biton domain^users     4458 Aug  6 07:48 test_imports.py
-rw-r--r-- 1 matan.biton domain^users    14966 Aug  6 07:48 test_mo_sac.py
-rw-r--r-- 1 matan.biton domain^users    12212 Aug  6 07:48 test_mo_sac_quick.py
-rw-r--r-- 1 matan.biton domain^users    12772 Aug  6 07:48 test_optimizations.py
-rw-r--r-- 1 matan.biton domain^users     5076 Aug  6 07:48 test_pcs_loading.py
-rw-r--r-- 1 matan.biton domain^users    20689 Aug  6 07:48 train_energynet.py

Testing Python imports...
Python path will include:
  - Current directory: /tmp/energynet_continue_training_matan.biton_3655976
  - Parent directories will be added by the script
Testing basic dependencies...
✓ Basic dependencies (torch, numpy, gymnasium, matplotlib) available
Testing multi_objective_sac import...
✓ multi_objective_sac import successful
Testing EnergyNetMoISO import...
Registering PCSUnitEnv-v0
Registering ISOEnv-v0
Registering EnergyNetEnv-v0
Registering ISO-RLZoo-v0
Registering PCS-RLZoo-v0
✓ EnergyNetMoISO import successful

Running under SLURM job manager
Set OMP_NUM_THREADS to 4
GPU devices: 0
✓ GPU training enabled
Continue Training Parameters:
  Model Path: /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/Experiments/First/models/train_energynet_full_opt_0_action_with_disp_1754339131_final.pth
  Additional Timesteps: 500000
  Experiment Name: full_opt_with_disp_trained_pcs
  Random Seed: 42

Environment Configuration:
  Use Dispatch Action: true
  Dispatch Strategy: PROPORTIONAL
  Trained PCS Model: /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/training/pcs_experiments/models/with_opt_iso_opt_no_disp_final.pth
  ✓ PCS model file found

Optimization Parameter Overrides:
  LR Annealing: true
    Type: cosine
    Min Factor: 0.05
  Reward Scaling: true
    Epsilon: 1e-4
  Value Clipping: true
    Clip Range: 150.0

Running EnergyNet continue training...
Command: python3 continue_train_energynet.py --model-path /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/Experiments/First/models/train_energynet_full_opt_0_action_with_disp_1754339131_final.pth --total-timesteps 500000 --save-dir . --experiment-name continue_train_energynet_full_opt_with_disp_trained_pcs --eval-freq 5000 --save-freq 10000 --verbose --seed 42 --use-dispatch-action --dispatch-strategy PROPORTIONAL --trained-pcs-model /home/matan.biton/EnergyNetMultiObjectiveISOWrapper/training/pcs_experiments/models/with_opt_iso_opt_no_disp_final.pth --use-lr-annealing --lr-annealing-type cosine --lr-min-factor 0.05 --use-reward-scaling --reward-scale-epsilon 1e-4 --use-value-clipping --value-clip-range 150.0

